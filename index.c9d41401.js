const t=document.querySelector(".header__nav-menu"),e=document.querySelector(".js-menu__open"),n=document.querySelector(".js-menu__close"),o=document.querySelector(".nav-menu__nav--list"),i=document.querySelector(".scroll__menu"),c=document.querySelector(".scroll__menu--btn"),s=document.querySelector(".scroll__menu-list--wrapper"),l=document.querySelectorAll(".scroll__menu-link");let a=null;function r(){t.classList.remove("open-menu")}function d(){s.classList.toggle("active"),c.classList.toggle("active")}e.addEventListener("click",(function(){t.classList.add("open-menu")})),n.addEventListener("click",r),o.addEventListener("click",(function(t){const e=document.querySelector(".active__nav-link");e&&e.classList.remove("active__nav-link");const n=t.target;n.classList.add("active__nav-link"),a=n.dataset.value,r()})),window.addEventListener("scroll",(()=>{let t=document.body.scrollHeight,e=t-.06*t;Math.round(window.scrollY)>300&&Math.round(window.scrollY)<e?i.classList.add("active"):i.classList.remove("active")})),c.addEventListener("click",d),l.forEach((t=>t.addEventListener("click",d)));window.onload=()=>{const t=document.querySelectorAll(".bg-circles"),e=new IntersectionObserver(((e,n)=>{e.forEach((e=>{const n=e.target.getAttribute("data-section");e.isIntersecting&&(l.forEach((t=>{t.getAttribute("href").replace("#","")===e.target.id&&function(t){const e=document.querySelector(".active__nav-link");e&&e.classList.remove("active__nav-link");t.classList.add("active__nav-link")}(t)})),t.forEach((t=>{const e=t.getAttribute("data-element");n===e&&t.classList.add("circles-animation")})))}))}),{root:null,riitMargin:"0px",threshold:.1});document.querySelectorAll("[data-observer-target]").forEach((t=>{e.observe(t)}))};const u=document.querySelectorAll(".collection__filter--btn"),m=document.querySelectorAll(".collection__filter--img");function v(t){const e=t.target;let n=null,o=null;e.closest(".collection__filter--btn")&&(u.forEach(((t,i)=>{t.classList.contains("active")&&(n=i,t.classList.remove("active"),m[n].classList.remove("visible")),t===e&&(o=i)})),e.classList.add("active"),m[o].classList.add("visible"))}var h;u.forEach((t=>t.addEventListener("click",v))),((t,e,n)=>{n=n||window;let o=!1;n.addEventListener(t,(function(){o||(o=!0,requestAnimationFrame((function(){n.dispatchEvent(new CustomEvent(e)),o=!1})))}))})("resize","optimizedResize"),(h=h||window).animation=function(t,e,n){const o=e.count;let i=0;e.start&&e.start.forEach((e=>{t.style[e[0]]=e[1]}));const c=[];e.anim.forEach((([t,e,n])=>{const i=Math.max(e,n),s=Math.min(e,n),l=(i-s)/o;c.push({style:t,from:e,to:n,step:l,reverse:s===n})}));const s=()=>{c.forEach((e=>{e.reverse?e.from-=e.step:e.from+=e.step,t.style[e.style]=e.from})),i++,i<o?requestAnimationFrame(s):(e.end&&e.end.forEach((e=>{t.style[e[0]]=e[1]})),n&&n())};requestAnimationFrame(s)};document.addEventListener("DOMContentLoaded",(()=>{const t=document.createElement("div");t.className="videotube-modal-overlay",document.body.insertAdjacentElement("beforeend",t);const e=document.createElement("div");e.id="videotube-modal-container";const n=[[3840,2160],[2560,1440],[1920,1080],[1280,720],[854,420],[640,360],[426,240]],o=()=>{const t=n.find((t=>t[0]<window.visualViewport.width))||n[n.length-1],o=document.getElementById("videotube-modal");o.width=t[0],o.height=t[1],e.style.cssText=`\n\t\t\twidth: ${t[0]};\n\t\t\theight: ${t[1]};\n\t\t`},i=()=>{const n=window.visualViewport.height,o=window.visualViewport.width,i=e.style.width,c=e.style.height;e.style.left=(o-i)/2,e.style.top=(n-c)/2,t.style.height=document.documentElement.clientHeight},c=()=>{i(),o()},s=()=>{animation(t,{end:[["display","none"]],anim:[["opacity",1,0]],count:20},(()=>{t.textContent=""})),window.removeEventListener("optimizedResize",c),document.removeEventListener("keyup",l)},l=t=>{27===t.keyCode&&s()};t.addEventListener("click",s),document.addEventListener("click",(e=>{const n=e.target.closest(".tube");if(!n)return;const s=n.href;let a=s.includes("youtube")?s.match(/(\?|&)v=([^&]+)/)[2]:s.match(/(\.be\/)([^&]+)/)[2];0!==a.length&&(e.preventDefault(),animation(t,{start:[["display","block"]],anim:[["opacity",0,1]],count:20}),t.insertAdjacentHTML("beforeend",`\n\t\t\t<div id="videotube-modal-loading">Загрузка...</div>\n\t\t\t<div id="videotube-modal-close">&#10006;</div>\n\t\t\t<div id="videotube-modal-container">\n\t\t\t\t<iframe src="https://youtube.com/embed/${a}?autoplay=1" \n\t\t\t\t\tframeborder="0"\n\t\t\t\t\tid="videotube-modal" \n\t\t\t\t\tallowfullscreen\n\t\t\t\t\tallow="autoplay">\n\t\t\t\t</iframe>\n\t\t\t</div>\n\t\t`),o(),i(),window.addEventListener("optimizedResize",c),document.addEventListener("keyup",l))}))}));
//# sourceMappingURL=index.c9d41401.js.map
