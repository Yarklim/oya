const e=document.querySelector(".header__nav-menu"),t=document.querySelector(".js-menu__open"),n=document.querySelector(".js-menu__close"),o=document.querySelector(".nav-menu__nav--list"),c=document.querySelectorAll("[data-modal-open]"),i=document.querySelector(".scroll__menu"),l=document.querySelector(".scroll__menu--btn"),s=document.querySelector(".scroll__menu-list--wrapper"),a=document.querySelector(".scroll__bg--circles"),d=document.querySelectorAll(".scroll__menu-link");let r=null;function u(){e.classList.remove("open-menu")}function m(){a.classList.toggle("circles-animation"),s.classList.toggle("active"),l.classList.toggle("active")}t.addEventListener("click",(function(){e.classList.add("open-menu")})),n.addEventListener("click",u),o.addEventListener("click",(function(e){const t=document.querySelector(".active__nav-link");t&&t.classList.remove("active__nav-link");const n=e.target;n.classList.add("active__nav-link"),r=n.dataset.value,u()})),c.forEach((e=>{e.addEventListener("click",u)})),window.addEventListener("scroll",(()=>{let e=document.body.scrollHeight,t=e-.06*e;Math.round(window.scrollY)>300&&Math.round(window.scrollY)<t?i.classList.add("active"):i.classList.remove("active")})),l.addEventListener("click",m),d.forEach((e=>e.addEventListener("click",m)));window.onload=()=>{const e=document.querySelectorAll(".bg-circles"),t=document.querySelector(".carousel"),n=new IntersectionObserver(((n,o)=>{n.forEach((n=>{const o=n.target.getAttribute("data-section");n.isIntersecting&&(d.forEach((e=>{e.getAttribute("href").replace("#","")===n.target.id&&function(e){const t=document.querySelector(".active__nav-link");t&&t.classList.remove("active__nav-link");e.classList.add("active__nav-link")}(e)})),e.forEach((e=>{const t=e.getAttribute("data-element");o===t&&e.classList.add("circles-animation")})),"carousel"===o&&t.classList.add("animated"))}))}),{root:null,riitMargin:"0px",threshold:.1});document.querySelectorAll("[data-observer-target]").forEach((e=>{n.observe(e)}))};const v=document.querySelector(".backdrop"),f=(document.querySelector(".modal"),document.querySelectorAll("[data-modal-open]")),L=document.querySelector(".modal__close"),h=document.querySelector(".modal__bg--circles");function y(){v.classList.remove("is-hidden"),h.classList.add("circles-animation"),window.addEventListener("keydown",g)}function E(){v.classList.add("is-hidden"),h.classList.remove("circles-animation")}function g(e){"Escape"===e.code&&E()}f.forEach((e=>{e.addEventListener("click",y)})),v.addEventListener("click",(e=>{e.currentTarget===e.target&&E()})),L.addEventListener("click",E);const p=document.querySelectorAll(".collection__filter--btn"),_=document.querySelectorAll(".collection__filter--img");function w(e){const t=e.target;let n=null,o=null;t.closest(".collection__filter--btn")&&(p.forEach(((e,c)=>{e.classList.contains("active")&&(n=c,e.classList.remove("active"),_[n].classList.remove("visible")),e===t&&(o=c)})),t.classList.add("active"),_[o].classList.add("visible"))}var b;p.forEach((e=>e.addEventListener("click",w))),((e,t,n)=>{n=n||window;let o=!1;n.addEventListener(e,(function(){o||(o=!0,requestAnimationFrame((function(){n.dispatchEvent(new CustomEvent(t)),o=!1})))}))})("resize","optimizedResize"),(b=b||window).animation=function(e,t,n){const o=t.count;let c=0;t.start&&t.start.forEach((t=>{e.style[t[0]]=t[1]}));const i=[];t.anim.forEach((([e,t,n])=>{const c=Math.max(t,n),l=Math.min(t,n),s=(c-l)/o;i.push({style:e,from:t,to:n,step:s,reverse:l===n})}));const l=()=>{i.forEach((t=>{t.reverse?t.from-=t.step:t.from+=t.step,e.style[t.style]=t.from})),c++,c<o?requestAnimationFrame(l):(t.end&&t.end.forEach((t=>{e.style[t[0]]=t[1]})),n&&n())};requestAnimationFrame(l)};document.addEventListener("DOMContentLoaded",(()=>{const e=document.createElement("div");e.className="videotube-modal-overlay",document.body.insertAdjacentElement("beforeend",e);const t=document.createElement("div");t.id="videotube-modal-container";const n=[[3840,2160],[2560,1440],[1920,1080],[1280,720],[854,420],[640,360],[426,240]],o=()=>{const e=n.find((e=>e[0]<window.visualViewport.width))||n[n.length-1],o=document.getElementById("videotube-modal");o.width=e[0],o.height=e[1],t.style.cssText=`\n\t\t\twidth: ${e[0]};\n\t\t\theight: ${e[1]};\n\t\t`},c=()=>{const n=window.visualViewport.height,o=window.visualViewport.width,c=t.style.width,i=t.style.height;t.style.left=(o-c)/2,t.style.top=(n-i)/2,e.style.height=document.documentElement.clientHeight},i=()=>{c(),o()},l=()=>{animation(e,{end:[["display","none"]],anim:[["opacity",1,0]],count:20},(()=>{e.textContent=""})),window.removeEventListener("optimizedResize",i),document.removeEventListener("keyup",s)},s=e=>{27===e.keyCode&&l()};e.addEventListener("click",l),document.addEventListener("click",(t=>{const n=t.target.closest(".tube");if(!n)return;const l=n.href;let a=l.includes("youtube")?l.match(/(\?|&)v=([^&]+)/)[2]:l.match(/(\.be\/)([^&]+)/)[2];0!==a.length&&(t.preventDefault(),animation(e,{start:[["display","block"]],anim:[["opacity",0,1]],count:20}),e.insertAdjacentHTML("beforeend",`\n\t\t\t<div id="videotube-modal-loading">Загрузка...</div>\n\t\t\t<div id="videotube-modal-close">&#10006;</div>\n\t\t\t<div id="videotube-modal-container">\n\t\t\t\t<iframe src="https://youtube.com/embed/${a}?autoplay=1" \n\t\t\t\t\tframeborder="0"\n\t\t\t\t\tid="videotube-modal" \n\t\t\t\t\tallowfullscreen\n\t\t\t\t\tallow="autoplay">\n\t\t\t\t</iframe>\n\t\t\t</div>\n\t\t`),o(),c(),window.addEventListener("optimizedResize",i),document.addEventListener("keyup",s))}))}));const k=document.querySelector("[data-slider-list]"),q=k.querySelectorAll("[data-slider-item]")[0],S=document.querySelectorAll("[data-slider-nav]");k.addEventListener("mousedown",C),k.addEventListener("touchstart",C),document.addEventListener("mousemove",T),k.addEventListener("touchmove",T),document.addEventListener("mouseup",X),k.addEventListener("touchend",X);let A,M,z,W=!1,j=!1;function x(){let e=k.scrollWidth-k.clientWidth;S[0].style.display=0==k.scrollLeft?"none":"block",S[1].style.display=k.scrollLeft==e?"none":"block"}function C(e){W=!0,A=e.pageX||e.touches[0].pageX,M=k.scrollLeft}function T(e){W&&(e.preventDefault(),j=!0,k.classList.add("dragging"),z=(e.pageX||e.touches[0].pageX)-A,k.scrollLeft=M-z,x())}function X(){W=!1,k.classList.remove("dragging"),j&&(j=!1,function(){if(k.scrollLeft-(k.scrollWidth-k.clientWidth)>-1||k.scrollLeft<=0)return;z=Math.abs(z);let e=q.clientWidth+14,t=e-z;if(k.scrollLeft>M)return k.scrollLeft+=z>e/3?t:-z;k.scrollLeft-=z>e/3?t:-z}())}S.forEach((e=>{e.addEventListener("click",(()=>{let t=q.clientWidth;k.scrollLeft+="prev"==e.id?-t:t,setTimeout((()=>x()),60)}))}));
//# sourceMappingURL=index.445ac57c.js.map
