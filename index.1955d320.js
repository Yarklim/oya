const t=document.querySelectorAll(".collection__filter--btn"),e=document.querySelectorAll(".collection__filter--img");function n(n){const i=n.target;let o=null,r=null;i.closest(".collection__filter--btn")&&(t.forEach(((t,n)=>{t.classList.contains("active")&&(o=n,t.classList.remove("active"),e[o].classList.remove("visible")),t===i&&(r=n)})),i.classList.add("active"),e[r].classList.add("visible"))}t.forEach((t=>t.addEventListener("click",n)));const i=document.querySelector(".journey__slider--container"),o=document.querySelector(".journey__slide"),r=Array.from(document.querySelectorAll(".journey__slide"));let a=!1,d=0,s=0,c=0,l=0,u=0;function m(){i.style.transform=`translateX(${s}px)`}function v(t){if(a){const e=t.clientX;s=c+e-d}}function f(){cancelAnimationFrame(u),a=!1;const t=s-c;t<-100&&l<r.length-1&&(l+=1),t>100&&l>0&&(l-=1),s=l*-o.offsetWidth,c=s,m(),i.classList.remove("grabbing")}function y(){m(),a&&requestAnimationFrame(y)}var h;r.forEach(((t,e)=>{t.querySelector(".journey__slide--img").addEventListener("dragstart",(t=>t.preventDefault())),t.addEventListener("pointerdown",function(t){return function(e){l=t,d=e.clientX,a=!0,u=requestAnimationFrame(y),i.classList.add("grabbing")}}(e)),t.addEventListener("pointerup",f),t.addEventListener("pointerleave",f),t.addEventListener("pointermove",v)})),window.oncontextmenu=function(t){return t.preventDefault(),t.stopPropagation(),!1},((t,e,n)=>{n=n||window;let i=!1;n.addEventListener(t,(function(){i||(i=!0,requestAnimationFrame((function(){n.dispatchEvent(new CustomEvent(e)),i=!1})))}))})("resize","optimizedResize"),(h=h||window).animation=function(t,e,n){const i=e.count;let o=0;e.start&&e.start.forEach((e=>{t.style[e[0]]=e[1]}));const r=[];e.anim.forEach((([t,e,n])=>{const o=Math.max(e,n),a=Math.min(e,n),d=(o-a)/i;r.push({style:t,from:e,to:n,step:d,reverse:a===n})}));const a=()=>{r.forEach((e=>{e.reverse?e.from-=e.step:e.from+=e.step,t.style[e.style]=e.from})),o++,o<i?requestAnimationFrame(a):(e.end&&e.end.forEach((e=>{t.style[e[0]]=e[1]})),n&&n())};requestAnimationFrame(a)};document.addEventListener("DOMContentLoaded",(()=>{const t=document.createElement("div");t.className="videotube-modal-overlay",document.body.insertAdjacentElement("beforeend",t);const e=document.createElement("div");e.id="videotube-modal-container";const n=[[3840,2160],[2560,1440],[1920,1080],[1280,720],[854,420],[640,360],[426,240]],i=()=>{const t=n.find((t=>t[0]<window.visualViewport.width))||n[n.length-1],i=document.getElementById("videotube-modal");i.width=t[0],i.height=t[1],e.style.cssText=`\n\t\t\twidth: ${t[0]};\n\t\t\theight: ${t[1]};\n\t\t`},o=()=>{const n=window.visualViewport.height,i=window.visualViewport.width,o=e.style.width,r=e.style.height;e.style.left=(i-o)/2,e.style.top=(n-r)/2,t.style.height=document.documentElement.clientHeight},r=()=>{o(),i()},a=()=>{animation(t,{end:[["display","none"]],anim:[["opacity",1,0]],count:20},(()=>{t.textContent=""})),window.removeEventListener("optimizedResize",r),document.removeEventListener("keyup",d)},d=t=>{27===t.keyCode&&a()};t.addEventListener("click",a),document.addEventListener("click",(e=>{const n=e.target.closest(".tube");if(!n)return;const a=n.href;let s=a.includes("youtube")?a.match(/(\?|&)v=([^&]+)/)[2]:a.match(/(\.be\/)([^&]+)/)[2];0!==s.length&&(e.preventDefault(),animation(t,{start:[["display","block"]],anim:[["opacity",0,1]],count:20}),t.insertAdjacentHTML("beforeend",`\n\t\t\t<div id="videotube-modal-loading">Загрузка...</div>\n\t\t\t<div id="videotube-modal-close">&#10006;</div>\n\t\t\t<div id="videotube-modal-container">\n\t\t\t\t<iframe src="https://youtube.com/embed/${s}?autoplay=1" \n\t\t\t\t\tframeborder="0"\n\t\t\t\t\tid="videotube-modal" \n\t\t\t\t\tallowfullscreen\n\t\t\t\t\tallow="autoplay">\n\t\t\t\t</iframe>\n\t\t\t</div>\n\t\t`),i(),o(),window.addEventListener("optimizedResize",r),document.addEventListener("keyup",d))}))}));
//# sourceMappingURL=index.1955d320.js.map
